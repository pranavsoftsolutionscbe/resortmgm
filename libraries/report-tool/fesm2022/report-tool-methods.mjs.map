{"version":3,"file":"report-tool-methods.mjs","sources":["../../../projects/report-tool/methods/common.method.ts","../../../projects/report-tool/methods/crypto-js.method.ts","../../../projects/report-tool/methods/date.method.ts","../../../projects/report-tool/methods/type-change.method.ts","../../../projects/report-tool/methods/export.method.ts","../../../projects/report-tool/methods/public-api.ts","../../../projects/report-tool/methods/report-tool-methods.ts"],"sourcesContent":["export function joinPaths(...paths: any[]): string {\r\n  return paths.join(\"/\");\r\n}\r\n\r\nexport function filter<T>(array: T[], filterKey: string, value?: any): T[] {\r\n  return array.filter((f: any) => (value ? f[filterKey] === value : f[filterKey]));\r\n}\r\n\r\nexport function filterByMenu(array: any[], keys: string[], value: any): any[] {\r\n  const [childKey, filterKey] = keys;\r\n  if (value && value.length) {\r\n    const filterData = (data: any[], predicate: { (item: any): any; (arg0: any): any; }) => {\r\n      return !!!data\r\n        ? null\r\n        : data.reduce((list, entry) => {\r\n            let clone = null;\r\n            if (predicate(entry)) {\r\n              // if the object matches the filter, clone it as it is\r\n              clone = Object.assign({}, entry);\r\n            } else if (entry[childKey] != null) {\r\n              // if the object has childrens, filter the list of children\r\n              const children = filterData(entry[childKey], predicate);\r\n              if (children.length > 0) {\r\n                // if any of the children matches, clone the parent object, overwrite\r\n                // the children list with the filtered list\r\n                clone = Object.assign({}, entry, { children: [...children] });\r\n              }\r\n            }\r\n\r\n            // if there's a cloned object, push it to the output list\r\n            // tslint:disable-next-line: no-unused-expression\r\n            clone && list.push(clone);\r\n            return list;\r\n          }, []);\r\n    };\r\n    return filterData(array, (item) => {\r\n      return (\r\n        item[filterKey] &&\r\n        item[filterKey]\r\n          .toString()\r\n          .toLowerCase()\r\n          .includes(value.toString().toLowerCase())\r\n      );\r\n    });\r\n  }\r\n  return array;\r\n}\r\n\r\nexport function parseValue(v: string): [string, number] {\r\n  // extract number (defaults to 0 if not present)\r\n  const n = +(v.match(/\\d+$/) || [0])[0];\r\n  const str = v.replace(n.toString(), \"\"); // extract string part\r\n  return [str, n];\r\n}\r\n\r\nexport function sort(array: any[], key: string, isCompare = false): any[] {\r\n  const compare = (x: any, y: any) => {\r\n    if (isCompare && typeof x === \"string\" && typeof y === \"string\") {\r\n      const a = parseValue(x);\r\n      const b = parseValue(y);\r\n      const result = a[0].localeCompare(b[0]);\r\n      return result === 0 ? a[1] - b[1] : result;\r\n    } else if (typeof x === \"boolean\" && typeof y === \"boolean\") {\r\n      return x && !y ? -1 : x && y ? 0 : 1;\r\n    }\r\n    return x < y ? -1 : x > y ? 1 : 0;\r\n  };\r\n  return array.sort((a, b) => {\r\n    const x = key\r\n      ? typeof a[key] === \"string\"\r\n        ? a[key].toLowerCase()\r\n        : a[key]\r\n      : a;\r\n    const y = key\r\n      ? typeof b[key] === \"string\"\r\n        ? b[key].toLowerCase()\r\n        : b[key]\r\n      : b;\r\n    return compare(x, y);\r\n  });\r\n}\r\n\r\nexport function multiSort(\r\n  array: any[],\r\n  keys: string[],\r\n  isCompare = false\r\n): any[] {\r\n  const compare = (x: any, y: any) => {\r\n    if (isCompare && typeof x === \"string\" && typeof y === \"string\") {\r\n      const a = parseValue(x);\r\n      const b = parseValue(y);\r\n      const result = a[0].localeCompare(b[0]);\r\n      return result === 0 ? a[1] - b[1] : result;\r\n    } else if (typeof x === \"boolean\" && typeof y === \"boolean\") {\r\n      return x === y ? 0 : x ? -1 : 1;\r\n    }\r\n    return x < y ? -1 : x > y ? 1 : 0;\r\n  };\r\n  let returnArray = array;\r\n  keys.forEach((key) => {\r\n    returnArray = returnArray.sort((a, b) => {\r\n      const x = typeof a[key] === \"string\" ? a[key].toLowerCase() : a[key];\r\n      const y = typeof b[key] === \"string\" ? b[key].toLowerCase() : b[key];\r\n      return compare(x, y);\r\n    });\r\n  });\r\n  return returnArray;\r\n}\r\n\r\nexport function groupBy(array: any[], keys: [string, string, any]): any[] {\r\n  const [parentKey, childKey, sortKey] = keys;\r\n  let parentList = array.filter((f) => !f[parentKey]);\r\n  const childList = filter(array, parentKey);\r\n  parentList.forEach((parent) => {\r\n    const items = filter(childList, parentKey, parent[childKey]);\r\n    if (sortKey) {\r\n      if (typeof sortKey === \"string\") {\r\n        parent.items = sort(items, sortKey);\r\n      } else {\r\n        parent.items = multiSort(items, sortKey);\r\n      }\r\n    } else {\r\n      parent.items = items;\r\n    }\r\n  });\r\n  parentList = sortKey ? sort(parentList, sortKey) : parentList;\r\n  return [...parentList];\r\n}\r\n\r\nexport function between(value: number, min: number, max: number): boolean {\r\n  return value >= min && value <= max;\r\n}\r\n\r\nexport function percentage(value: number, total: number): number {\r\n  return Math.round((value * 100) / total);\r\n}\r\n\r\nexport function isJson(str: string): boolean {\r\n  try {\r\n    JSON.parse(str);\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n","import { AES, enc } from \"crypto-js\";\r\n\r\nconst CypherKey = \"cypher123\";\r\n\r\nexport function encrypt(plainData: any): any {\r\n  return AES.encrypt(JSON.stringify(plainData), CypherKey);\r\n}\r\n\r\nexport function decrypt(encryptData: string): any {\r\n  if (encryptData) {\r\n    const val = AES.decrypt(encryptData, CypherKey).toString(enc.Utf8);\r\n    return JSON.parse(val);\r\n  } else {\r\n    return null;\r\n  }\r\n}\r\n","import { DatePipe } from '@angular/common';\r\n\r\nexport function formatDate(\r\n  date: Date | string,\r\n  format = 'yyyy-MM-ddTHH:mm:ss.SSS'\r\n): string {\r\n  return new DatePipe('en-US').transform(date, format) as string;\r\n}\r\n","import { ToWords } from \"to-words\";\r\nimport { ConverterOptions } from \"to-words/dist/types\";\r\n\r\nimport { IMenuItem } from \"report-tool/models\";\r\n\r\nimport { sort } from \"./common.method\";\r\n\r\nexport function pageCaptions(captions: any[]): any {\r\n  const returnVal: any = captions.reduce((init, item) => {\r\n    init[item.ControlName] = item.ControlCaption;\r\n    return init;\r\n  }, {});\r\n  return returnVal;\r\n}\r\n\r\nexport function xmlToJson(xml: string): any {\r\n  const xml2json = (srcDOM: any): any => {\r\n    const children: any[] = [];\r\n    Object.keys(srcDOM.children).forEach((key) => {\r\n      children.push(srcDOM.children[key]);\r\n    });\r\n\r\n    // base case for recursion.\r\n    if (!children.length) {\r\n      return srcDOM.innerHTML;\r\n    }\r\n\r\n    // initializing object to be returned.\r\n    const jsonResult: any = {};\r\n\r\n    children.forEach((child) => {\r\n      // checking is child has siblings of same name.\r\n      const childIsArray =\r\n        children.filter((eachChild) => eachChild.nodeName === child.nodeName)\r\n          .length > 1;\r\n\r\n      // if child is array, save the values as array, else as strings.\r\n      if (childIsArray) {\r\n        if (jsonResult[child.nodeName] === undefined) {\r\n          jsonResult[child.nodeName] = [xml2json(child)];\r\n        } else {\r\n          jsonResult[child.nodeName].push(xml2json(child));\r\n        }\r\n      } else {\r\n        jsonResult[child.nodeName] = xml2json(child);\r\n      }\r\n    });\r\n\r\n    return jsonResult;\r\n  };\r\n\r\n  const parser = new DOMParser();\r\n  return xml2json(parser.parseFromString(xml, \"application/xml\"));\r\n}\r\n\r\nexport function hexToRgb(hex: string): any {\r\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n  return result\r\n    ? [\r\n        parseInt(result[1], 16),\r\n        parseInt(result[2], 16),\r\n        parseInt(result[3], 16),\r\n      ]\r\n    : null;\r\n}\r\n\r\nexport function rgbToHex(r: number, g: number, b: number): string {\r\n  function componentToHex(c: number) {\r\n    const hex = c.toString(16);\r\n    return hex.length === 1 ? \"0\" + hex : hex;\r\n  }\r\n  return \"#\" + componentToHex(r) + componentToHex(g) + componentToHex(b);\r\n}\r\n\r\nexport function loginNumberFormat(\r\n  value: number | string,\r\n  digits = -1,\r\n  numberFormat = \"\"\r\n): string {\r\n  value = value && value.toString().length ? value : \"0\";\r\n  const [fDecimal, fFraction] = numberFormat.toString().split(\".\");\r\n  const seperators = fDecimal.split(\",\").reverse();\r\n  const [vDecimal, vFraction] = value.toString().split(\".\");\r\n  const vDecimalRev = vDecimal.split(\"\").reverse();\r\n  const returnDecimal = seperators.reduce((init, current, idx) => {\r\n    const start = init.replace(\",\", \"\").length;\r\n    const end = start + current.length;\r\n    const val = vDecimalRev.slice(start, end).reverse().join(\"\");\r\n    init = val + (val.length && init.length ? \",\" : \"\") + init;\r\n    if (idx === seperators.length - 1) {\r\n      const lastStart = init.replace(\",\", \"\").length;\r\n      const lastEnd = vDecimalRev.length;\r\n      const lastVal = vDecimalRev.slice(lastStart, lastEnd).reverse().join(\"\");\r\n      init = lastVal + (lastVal.length && init.length ? \",\" : \"\") + init;\r\n    }\r\n    return init;\r\n  }, \"\");\r\n  if (digits === -1) {\r\n    digits = fFraction ? fFraction.length : 0;\r\n  }\r\n  const returnFraction = digits\r\n    ? Number(\".\" + (vFraction || 0))\r\n        .toFixed(digits)\r\n        .substr(1)\r\n    : \"\";\r\n  return returnDecimal + returnFraction;\r\n}\r\n\r\nexport function changeMenuItem<T>(\r\n  array: T[],\r\n  keys: string[],\r\n  isSort = false\r\n): IMenuItem<T>[] {\r\n  let [labelKey, valueKey] = keys;\r\n  valueKey = valueKey || labelKey;\r\n  const returnValue = array.map((item) => ({\r\n    label: item[labelKey],\r\n    value: valueKey ? item[valueKey] : item,\r\n    data: item,\r\n  }));\r\n  return isSort ? sort(returnValue, \"label\") : returnValue;\r\n}\r\n\r\nexport function num2Word(num: number, locale: any): string {\r\n  const converterOptions: ConverterOptions = { currency: !!locale };\r\n  const toWord = new ToWords({\r\n    localeCode: locale || \"en-US\",\r\n    converterOptions,\r\n  });\r\n  return toWord.convert(num);\r\n}\r\n","import { jsPDF } from \"jspdf\";\r\nimport autoTable, { UserOptions } from \"jspdf-autotable\";\r\nimport * as Excel from \"exceljs/dist/exceljs.min.js\";\r\nimport * as FileSaver from \"file-saver\";\r\n\r\nimport {\r\n  ExcelOptions,\r\n  ExportExtentions,\r\n  ExportTypes,\r\n  PDFFillText,\r\n  PdfOptions,\r\n  IReportRow,\r\n} from \"report-tool/models\";\r\nimport { fillColor } from \"report-tool/core\";\r\n\r\nimport { hexToRgb } from \"./type-change.method\";\r\n\r\nexport function exportPdfTable(orientation: any): void {\r\n  const totalPagesExp = \"{total_pages_count_string}\";\r\n  const doc = new jsPDF(orientation);\r\n  autoTable(doc, {\r\n    html: \"#exportTable\",\r\n    theme: \"grid\",\r\n  });\r\n\r\n  // Total page number plugin only available in jspdf v1.0+\r\n  if (typeof doc.putTotalPages === \"function\") {\r\n    doc.putTotalPages(totalPagesExp);\r\n  }\r\n  // doc.output(\"dataurlnewwindow\");\r\n  doc.save(`Reports${Date.now()}.pdf`);\r\n}\r\n\r\nexport function exportPdf(pdfOptions: PdfOptions): Blob {\r\n  const {\r\n    orientation,\r\n    pageSize,\r\n    rowData,\r\n    columns,\r\n    subColumns,\r\n    reportTitle,\r\n    requestTitle,\r\n    FromDate,\r\n    ToDate,\r\n    tableOptions,\r\n    rowDataGroup,\r\n    isBlob,\r\n  } = pdfOptions;\r\n  let options = tableOptions;\r\n  const metaReports = [];\r\n  const bgColor = pdfOptions.bgColor || {};\r\n  const rowDataGroupCols = options.Fields;\r\n  const headerRowFillColor = hexToRgb(bgColor.header || fillColor.header);\r\n  const groupFillColor = hexToRgb(bgColor.group || fillColor.group);\r\n  const subGroupFillColor = hexToRgb(bgColor.subgroup || fillColor.subgroup);\r\n  const totalPagesExp = \"{total_pages_count_string}\";\r\n  const doc = new jsPDF(orientation, null, pageSize);\r\n\r\n  const pageHeight =\r\n    doc.internal.pageSize.height || doc.internal.pageSize.getHeight();\r\n  const pageWidth =\r\n    doc.internal.pageSize.width || doc.internal.pageSize.getWidth();\r\n  const xOffset = pageWidth / 2;\r\n\r\n  const colStyles = {};\r\n  columns.map((col) => {\r\n    if (col.PdfWidth) {\r\n      colStyles[col.field] = {\r\n        cellWidth: (+col.PdfWidth * (pageWidth - 16)) / 100,\r\n      };\r\n    }\r\n    if (col.type === \"number\" || col.type === \"id\") {\r\n      colStyles[col.field].halign = \"right\";\r\n    }\r\n  });\r\n\r\n  options.colStyles = {\r\n    ...colStyles,\r\n  };\r\n  options.hFillColor = headerRowFillColor;\r\n  options.hTextColor = [0, 0, 0];\r\n\r\n  const setFillText = (option: PDFFillText) => {\r\n    const value = option.value;\r\n    const hStart = option.hStart || options.startY;\r\n    const height = option.height || 8;\r\n    const x = option.x || xOffset;\r\n    const y = option.y || options.startY;\r\n    const align: any = option.align || \"center\";\r\n    doc.rect(7, hStart, pageWidth - 14, height, \"F\");\r\n    doc.text(value, x, y, align);\r\n  };\r\n\r\n  const addTable = (reports: any[], cols = columns, tblOptions = options) => {\r\n    doc.setFontSize(6);\r\n    const atOption = autoTableOptions(doc, tblOptions, totalPagesExp, bgColor);\r\n    atOption.columns = cols;\r\n    atOption.body = reports;\r\n    autoTable(doc, atOption);\r\n    // options.startY = doc.previousAutoTable.finalY;\r\n  };\r\n\r\n  const addAutoTable = (reports: any[]) => {\r\n    if (subColumns && subColumns.length) {\r\n      const subColStyles = {};\r\n      subColumns.map((col) => {\r\n        if (col.PdfWidth) {\r\n          subColStyles[col.field] = {\r\n            cellWidth: (+col.PdfWidth * (pageWidth - 16)) / 100,\r\n          };\r\n        }\r\n        if (col.type === \"number\" || col.type === \"id\") {\r\n          subColStyles[col.field].halign = \"right\";\r\n        }\r\n      });\r\n      options.colStyles = { ...subColStyles, ...options.colStyles };\r\n      const parentField = subColumns[0].parentField;\r\n      reports.forEach((groupRow) => {\r\n        addTable([groupRow]);\r\n        const reportRows = groupRow[parentField];\r\n        const tblOptions = {\r\n          ...options,\r\n          hFillColor: [0, 0, 0],\r\n          hTextColor: [255, 255, 255],\r\n        };\r\n        addTable(reportRows, subColumns, tblOptions);\r\n      });\r\n    } else {\r\n      addTable(reports);\r\n    }\r\n  };\r\n\r\n  const setMetaDataRow = (\r\n    metadata: any,\r\n    metaColumns: any,\r\n    reports: any[],\r\n    metaRows = []\r\n  ) => {\r\n    if (metadata && metaColumns && metaColumns.field) {\r\n      const { field, header, subTotal } = metaColumns;\r\n      const fields = metaColumns.fields || [];\r\n      const fillcolors = fields.length > 1 ? subGroupFillColor : groupFillColor;\r\n      Object.keys(metadata).forEach((groupCol, index) => {\r\n        const groupTitle = header + \" \" + groupCol;\r\n        if (pageHeight - 20 < options.startY) {\r\n          doc.addPage();\r\n          options.startY = 10;\r\n        }\r\n        const data = [\r\n          {\r\n            content: groupTitle.trim(),\r\n            colSpan: columns.length,\r\n            styles: {\r\n              fillColor: fillcolors,\r\n              halign: \"center\",\r\n              fontSize: 9,\r\n              fontStyle: \"bold\",\r\n            },\r\n          },\r\n        ];\r\n        const subMetaRows = [...metaRows, data];\r\n        const subMetadata = metadata[groupCol] || {};\r\n        const subGroup = subMetadata.columns;\r\n        const subGroupCols = metaColumns.columns;\r\n        const filterReports = reports.filter(\r\n          (f) => f[field] === groupCol || !(groupCol && f[field])\r\n        );\r\n        if (subTotal && subTotal.length) {\r\n          const subTotalData = columns.reduce(\r\n            (init, current) => {\r\n              init[current.dataKey] =\r\n                (subMetadata.subTotal || {})[current.dataKey] || \"\";\r\n              return init;\r\n            },\r\n            { isGroupTotal: true }\r\n          );\r\n          filterReports.push(subTotalData);\r\n        }\r\n        setMetaDataRow(subGroup, subGroupCols, filterReports, subMetaRows);\r\n      });\r\n    } else {\r\n      metaReports.push(...metaRows, ...reports);\r\n      const reportLast = reports.reduce((init, current) => {\r\n        if (!current.isGroupTotal) {\r\n          init = current;\r\n        }\r\n        return init;\r\n      }, {});\r\n      const rowDataLast = rowData[rowData.length - 1];\r\n      if (JSON.stringify(reportLast) === JSON.stringify(rowDataLast)) {\r\n        addAutoTable(metaReports);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Company Name\r\n  doc.setFont(\"\", \"bold\");\r\n  doc.text(\r\n    reportTitle.CompanyName.toUpperCase(),\r\n    xOffset,\r\n    options.startY + 15,\r\n    { align: \"center\" }\r\n  );\r\n\r\n  // Address and Phone No\r\n  options = { ...options, startY: options.startY + 25 };\r\n  doc.setFontSize(10);\r\n  doc.setFont(\"\", \"normal\");\r\n  const subTitle = [];\r\n  if (reportTitle.Address1) {\r\n    subTitle.push(reportTitle.Address1);\r\n  }\r\n  if (reportTitle.District || reportTitle.State) {\r\n    subTitle.push(\r\n      `${reportTitle.District ? reportTitle.District + \", \" : \"\"}${\r\n        reportTitle.State ? reportTitle.State : \"\"\r\n      }`\r\n    );\r\n  }\r\n  if (reportTitle.PhoneNo) {\r\n    subTitle.push(`Telephone No : ${reportTitle.PhoneNo}`);\r\n  }\r\n  doc.text(subTitle, xOffset, options.startY - 3, { align: \"center\" });\r\n\r\n  // Report Title\r\n  options = { ...options, startY: subTitle.length * 5 + options.startY };\r\n  doc.setFont(\"\", \"bold\");\r\n  doc.setFillColor(255, 221, 204);\r\n  const titleOption = { value: options.title, hStart: options.startY - 5 };\r\n  setFillText(titleOption);\r\n\r\n  // Report Date\r\n  options = { ...options, startY: options.startY + 7.5 };\r\n  doc.setFont(\"\", \"normal\");\r\n  doc.setFontSize(9);\r\n  doc.setFillColor(230, 242, 255);\r\n  doc.rect(\r\n    7,\r\n    options.startY - 4.5,\r\n    pageWidth - 14,\r\n    Math.round(requestTitle.length / 2) * 7.5,\r\n    \"F\"\r\n  );\r\n  if (FromDate) {\r\n    doc.text(FromDate, 8, options.startY, { align: \"left\" });\r\n  }\r\n  if (ToDate) {\r\n    doc.text(ToDate, xOffset, options.startY, { align: \"center\" });\r\n  }\r\n  doc.text(requestTitle, pageWidth - 8, options.startY, { align: \"right\" });\r\n\r\n  // Auto Table\r\n  options = { ...options, startY: requestTitle.length * 5 + options.startY };\r\n\r\n  setMetaDataRow(rowDataGroup, rowDataGroupCols, rowData);\r\n\r\n  // Total page number plugin only available in jspdf v1.0+\r\n  if (typeof doc.putTotalPages === \"function\") {\r\n    doc.putTotalPages(totalPagesExp);\r\n  }\r\n  const blobPDF = new Blob([doc.output()], { type: \"application/pdf\" });\r\n  // fileSaver.saveAs(blobPDF, options.title);\r\n  if (!isBlob) {\r\n    FileSaver.saveAs(\r\n      blobPDF,\r\n      options.title.trim().replace(/[^a-zA-Z0-9]/g, \"_\") + ExportExtentions.PDF\r\n    );\r\n  }\r\n  return blobPDF;\r\n}\r\n\r\nexport function autoTableOptions(\r\n  doc: any,\r\n  options: any,\r\n  totalPagesExp: string,\r\n  bgColor: IReportRow\r\n): UserOptions {\r\n  const oddRowFillColor = hexToRgb(bgColor.odd || fillColor.odd);\r\n  const evenRowFillColor = hexToRgb(bgColor.even || fillColor.even);\r\n  const groupTotalFillColor = hexToRgb(\r\n    bgColor.groupTotal || fillColor.groupTotal\r\n  );\r\n  return {\r\n    ...options,\r\n    theme: \"grid\",\r\n    pageBreak: \"auto\",\r\n    rowPageBreak: \"avoid\",\r\n    headStyles: {\r\n      fontSize: 7,\r\n      cellPadding: 1,\r\n      lineColor: [200, 200, 200],\r\n      lineWidth: 0.1,\r\n      valign: \"middle\",\r\n      halign: \"center\",\r\n      minCellHeight: 7,\r\n      ...options.headStyles,\r\n    },\r\n    bodyStyles: {\r\n      fontSize: 7,\r\n      cellPadding: 1,\r\n      valign: \"middle\",\r\n      minCellHeight: 7,\r\n      ...options.bodyStyles,\r\n    },\r\n    columnStyles: { lineColor: 100, valign: \"middle\", ...options.colStyles },\r\n    margin: { top: 10, left: 7, right: 7 },\r\n    didParseCell: (data) => {\r\n      // data.\r\n      if (data.section === \"head\") {\r\n        data.cell.styles.fillColor = options.hFillColor;\r\n        data.cell.styles.textColor = options.hTextColor;\r\n      } else if (data.section === \"body\" && !data.row.raw[0]) {\r\n        data.cell.styles.fillColor = data.row.raw[\"isGroupTotal\"]\r\n          ? groupTotalFillColor\r\n          : (data.row.raw[\"SNo\"] || data.row.index) % 2\r\n          ? oddRowFillColor\r\n          : evenRowFillColor;\r\n      }\r\n      if (data.section === \"body\" && data.column.raw[\"type\"] === \"checked\") {\r\n        const cells = data.row.cells[data.column.dataKey];\r\n        cells.styles.font = \"Wingdings\";\r\n        cells.styles.halign = \"center\";\r\n        cells.text = [cells.raw ? \"1\" : \"-\"];\r\n      }\r\n    },\r\n\r\n    didDrawPage: (data) => {\r\n      // Footer\r\n      let str = \"Page \" + doc.getNumberOfPages();\r\n      if (typeof doc.putTotalPages === \"function\") {\r\n        str = `${str} of ${totalPagesExp}`;\r\n      }\r\n      doc.setFontSize(7);\r\n      const pageSize = doc.internal.pageSize;\r\n      const pageHeight = pageSize.height\r\n        ? pageSize.height\r\n        : pageSize.getHeight();\r\n      doc.text(str, (data.settings as any).margin.right, pageHeight - 10);\r\n    },\r\n  };\r\n}\r\n\r\nexport async function exportExcel(excelOptions: ExcelOptions): Promise<Blob> {\r\n  // Excel Title, Header, Data\r\n  const header: any[] = excelOptions.columns;\r\n  const data: any[] = excelOptions.reports;\r\n  const reportTitle = excelOptions.reportTitle;\r\n  const reportDate = excelOptions.reportDate;\r\n  const FromDate = excelOptions.FromDate;\r\n  const ToDate = excelOptions.ToDate;\r\n  const rowDataGroup = excelOptions.rowDataGroup;\r\n  const title = excelOptions.title;\r\n  const rowDataGroupCols = excelOptions.rowDataGroupCols;\r\n  const isBlob = excelOptions.isBlob;\r\n  const bgColor = excelOptions.bgColor || {};\r\n  const headerRowFillColor = bgColor.header || fillColor.header;\r\n  const oddRowFillColor = bgColor.odd || fillColor.odd;\r\n  const evenRowFillColor = bgColor.even || fillColor.even;\r\n  const groupFillColor = bgColor.group || fillColor.group;\r\n  const subGroupFillColor = bgColor.subgroup || fillColor.subgroup;\r\n  const subTotalFillColor = bgColor.groupTotal || fillColor.groupTotal;\r\n  const urlKeys = header.filter((f) => f.type === \"url\").map((m) => m.key);\r\n  const checkedKeys = header\r\n    .filter((f) => f.type === \"checked\")\r\n    .map((m) => m.key);\r\n\r\n  const keys = {\r\n    start: header[0].key,\r\n    end: header[header.length - 1].key,\r\n  };\r\n\r\n  const workbook = new Excel.Workbook();\r\n\r\n  const centerAlign = { vertical: \"middle\", horizontal: \"center\" };\r\n  const defaultBorder = {\r\n    top: { style: \"thin\", color: { argb: \"AAAAAA\" } },\r\n    left: { style: \"thin\", color: { argb: \"AAAAAA\" } },\r\n    bottom: { style: \"thin\", color: { argb: \"AAAAAA\" } },\r\n    right: { style: \"thin\", color: { argb: \"AAAAAA\" } },\r\n  };\r\n\r\n  const worksheet = workbook.addWorksheet(\"Sheet1\", { views: [] });\r\n  worksheet.columns = header;\r\n\r\n  const getFillColor = (color: string) => {\r\n    return {\r\n      type: \"pattern\",\r\n      pattern: \"solid\",\r\n      fgColor: { argb: color },\r\n      bgColor: { argb: color },\r\n    };\r\n  };\r\n\r\n  const getCellBorder = (style: any = defaultBorder) => {\r\n    return {\r\n      top: style.top,\r\n      bottom: style.bottom,\r\n      left: style.left,\r\n      right: style.right,\r\n    };\r\n  };\r\n\r\n  const mergeCells = (row: any, style: any) => {\r\n    const start = row.getCell(keys.start);\r\n    start.alignment = centerAlign;\r\n    Object.keys(style).forEach((field) => {\r\n      start[field] = style[field];\r\n    });\r\n    const end = row.getCell(keys.end);\r\n    worksheet.mergeCells(`${start.address}:${end.address}`);\r\n  };\r\n\r\n  if (reportTitle) {\r\n    const titleRow = worksheet.addRow([reportTitle.CompanyName.toUpperCase()]);\r\n    titleRow.height = 27.5;\r\n    const titleStyle = { font: { size: 16, bold: true } };\r\n    mergeCells(titleRow, titleStyle);\r\n\r\n    const addressRow = worksheet.addRow([reportTitle.Address]);\r\n    addressRow.height = 25;\r\n    const addressStyle = { font: { size: 14 } };\r\n    mergeCells(addressRow, addressStyle);\r\n  }\r\n\r\n  const subtitleRow = worksheet.addRow([title]);\r\n  subtitleRow.height = 25;\r\n  const subtitleStyle = {\r\n    font: { size: 14, bold: true },\r\n    fill: getFillColor(\"FFDDCC\"),\r\n  };\r\n  mergeCells(subtitleRow, subtitleStyle);\r\n\r\n  // const requestRow = worksheet.addRow([`${FromDate} ${ToDate} ${reportDate}`]);\r\n  const requestRow = worksheet.addRow(\r\n    header.map((m, i) => {\r\n      if (i === 0) {\r\n        return FromDate;\r\n      } else if (i === 2) {\r\n        return ToDate;\r\n      } else if (i === header.length - 2) {\r\n        return reportDate;\r\n      } else {\r\n        return \"\";\r\n      }\r\n    })\r\n  );\r\n  requestRow.height = 21.25;\r\n  const requestStyle = {\r\n    font: { size: 12 },\r\n    alignment: { vertical: \"middle\", horizontal: \"distributed\" },\r\n    fill: getFillColor(\"E6F2FF\"),\r\n  };\r\n  const fromDateStart = requestRow.getCell(keys.start);\r\n  const fromDateEnd = requestRow.getCell(header[1].key);\r\n  fromDateStart.font = { size: 12 };\r\n  fromDateStart.alignment = { vertical: \"middle\", horizontal: \"left\" };\r\n  fromDateStart.fill = getFillColor(\"E6F2FF\");\r\n  worksheet.mergeCells(`${fromDateStart.address}:${fromDateEnd.address}`);\r\n  const toDateStart = requestRow.getCell(header[2].key);\r\n  const toDateEnd = requestRow.getCell(\r\n    header[header.length > 4 ? header.length - 3 : 2].key\r\n  );\r\n  toDateStart.font = { size: 12 };\r\n  toDateStart.alignment = { vertical: \"middle\", horizontal: \"center\" };\r\n  toDateStart.fill = getFillColor(\"E6F2FF\");\r\n  worksheet.mergeCells(`${toDateStart.address}:${toDateEnd.address}`);\r\n  const reportDateStart = requestRow.getCell(\r\n    header[header.length > 4 ? header.length - 2 : 3].key\r\n  );\r\n  const reportDateEnd = requestRow.getCell(keys.end);\r\n  reportDateStart.font = { size: 12 };\r\n  reportDateStart.alignment = { vertical: \"middle\", horizontal: \"right\" };\r\n  reportDateStart.fill = getFillColor(\"E6F2FF\");\r\n  worksheet.mergeCells(`${reportDateStart.address}:${reportDateEnd.address}`);\r\n  // const start = requestRow.getCell(keys.start);\r\n  // start.alignment = centerAlign;\r\n  // Object.keys(requestStyle).forEach((field) => {\r\n  //   start[field] = requestStyle[field];\r\n  // });\r\n  // const end = requestRow.getCell(keys.end);\r\n  // worksheet.mergeCells(`${start.address}:${end.address}`);\r\n  // mergeCells(requestRow, requestStyle);\r\n\r\n  const headerRow = worksheet.addRow(header.map((m) => m.header));\r\n  headerRow.height = 20;\r\n  const headerRowIndex = Number(headerRow.getCell(keys.start).row);\r\n  worksheet.views.push({ state: \"frozen\", ySplit: headerRowIndex });\r\n  headerRow.eachCell({ includeEmpty: true }, (cell) => {\r\n    cell.fill = getFillColor(headerRowFillColor);\r\n    cell.font = { bold: true };\r\n    cell.alignment = centerAlign;\r\n    cell.border = getCellBorder();\r\n  });\r\n\r\n  data.forEach((rowData, index) => {\r\n    const setMetaDataRow = (metadata: any, metaColumns: any) => {\r\n      if (metadata && metaColumns && metaColumns.field) {\r\n        const field = metaColumns.field;\r\n        const gHeader = metaColumns.header;\r\n        const filedList: string[] = metaColumns.fields || [];\r\n        const fillClr =\r\n          filedList.length > 1 ? subGroupFillColor : groupFillColor;\r\n        const currentData = filedList.reduce((init, current) => {\r\n          if (init.columns) {\r\n            init = init.columns[rowData[current]] || {};\r\n          } else {\r\n            init = metadata[rowData[current]] || {};\r\n          }\r\n          return init;\r\n        }, {} as any);\r\n        if (currentData.index === index) {\r\n          const groupRow = worksheet.addRow([gHeader + \" \" + rowData[field]]);\r\n          groupRow.height = 20;\r\n          const groupStyle = {\r\n            fill: getFillColor(fillClr),\r\n            border: getCellBorder(),\r\n          };\r\n          mergeCells(groupRow, groupStyle);\r\n        }\r\n        const subMetadata = currentData;\r\n        const subMetaColumns = metaColumns.columns;\r\n        setMetaDataRow(subMetadata.columns, subMetaColumns);\r\n      }\r\n    };\r\n    const setMetaDataSubTotalRow = (metadata: any, metaColumns: any) => {\r\n      if (metadata && metaColumns && metaColumns.field) {\r\n        const filedList: string[] = metaColumns.fields || [];\r\n        const fillClr = subTotalFillColor;\r\n        const currentData = filedList.reduce((init, current) => {\r\n          if (init.columns) {\r\n            init = init.columns[rowData[current]] || {};\r\n          } else {\r\n            init = metadata[rowData[current]] || {};\r\n          }\r\n          return init;\r\n        }, {} as any);\r\n        if ((currentData.subTotal || {}).index === index) {\r\n          const subtotalData = header.reduce((init, current) => {\r\n            init[current.key] = currentData.subTotal[current.key] || \"\";\r\n            return init;\r\n          }, {});\r\n          console.log(\"subtotalData\", subtotalData);\r\n          const subTotalRow = worksheet.addRow(subtotalData);\r\n          subTotalRow.height = 20;\r\n          subTotalRow.eachCell({ includeEmpty: true }, (cell) => {\r\n            cell.fill = getFillColor(fillClr);\r\n            cell.alignment = { vertical: \"middle\" };\r\n            cell.border = getCellBorder();\r\n          });\r\n        }\r\n        const subMetadata = currentData;\r\n        const subMetaColumns = metaColumns.columns;\r\n        setMetaDataRow(subMetadata.columns, subMetaColumns);\r\n      }\r\n    };\r\n    setMetaDataRow(rowDataGroup, rowDataGroupCols);\r\n    const reportRow = worksheet.addRow(rowData);\r\n    setMetaDataSubTotalRow(rowDataGroup, rowDataGroupCols);\r\n    reportRow.height = 20;\r\n    reportRow.eachCell({ includeEmpty: true }, (cell) => {\r\n      if ((rowData.SNo || index) % 2) {\r\n        cell.fill = getFillColor(oddRowFillColor);\r\n      } else {\r\n        cell.fill = getFillColor(evenRowFillColor);\r\n      }\r\n      cell.alignment = { vertical: \"middle\" };\r\n      cell.border = getCellBorder();\r\n    });\r\n    urlKeys.forEach((key) => {\r\n      const urlCell = reportRow.getCell(key);\r\n      urlCell.value = {\r\n        text: rowData[key],\r\n        hyperlink: rowData[key],\r\n      };\r\n      urlCell.font = {\r\n        color: { argb: \"0000FF\" },\r\n      };\r\n    });\r\n    checkedKeys.forEach((key) => {\r\n      const checkedCell = reportRow.getCell(key);\r\n      if (rowData[key]) {\r\n        checkedCell.font = {\r\n          name: \"Wingdings\",\r\n          vertical: \"middle\",\r\n          horizontal: \"center\",\r\n        };\r\n        checkedCell.value = \"ü\";\r\n      } else {\r\n        checkedCell.font = {\r\n          vertical: \"middle\",\r\n          horizontal: \"center\",\r\n        };\r\n        checkedCell.value = \"-\";\r\n      }\r\n      checkedCell.alignment = centerAlign;\r\n    });\r\n  });\r\n  worksheet.addRow([]);\r\n\r\n  worksheet.getRow(1).hidden = true;\r\n\r\n  return workbook.xlsx.writeBuffer().then((rowData) => {\r\n    const blob = new Blob([rowData], { type: ExportTypes.EXCEL });\r\n    if (!isBlob) {\r\n      FileSaver.saveAs(\r\n        blob,\r\n        title.trim().replace(/[^a-zA-Z0-9]/g, \"_\") + ExportExtentions.EXCEL\r\n      );\r\n    }\r\n    return blob;\r\n  });\r\n}\r\n","/*\n * Public API Surface of report-tool\n */\nexport * from \"./common.method\";\nexport * from \"./crypto-js.method\";\nexport * from \"./date.method\";\nexport * from \"./export.method\";\nexport * from \"./type-change.method\";\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}